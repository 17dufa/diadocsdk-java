# diadocsdk-java

diadocsdk-java является официальной Java-реализацией клиента, использующего [публичный API Диадока](http://api-docs.diadoc.ru/).
На данный момент поддерживаются только JRE/JDK, на который установлен [КриптоПро JCP](https://www.cryptopro.ru/products/csp/jcp). Без КриптоПро JCP Diadoc SDK for Java работать не будет!

## Сборка проектов

Для сборки проекта используется [maven](http://maven.apache.org/). Исполняемые файлы maven можно скачать [на официальном сайте](http://maven.apache.org/download.cgi) и установить [по инструкции](http://maven.apache.org/install.html). В качестве альтернативы, можно установить maven с помощью [Chocolatey](https://chocolatey.org/packages/maven). В итоге maven должен находиться в переменной среды PATH, чтобы его можно было вызвать из командной строки.

Стандартный способ сборки проекта с помощью maven (старт из корня репозитория):

```
mvn package
```

Можно поместить собранный пакет в локальный репозиторий командой:

```
mvn install
```

## Окончательная сборка проекта (CI)

Для окончательной сборки проекта используется утилита [Cake](http://cakebuild.net/).

Запуск powershell-скрипта `build.ps1` скачает утилиту Cake, если ее у вас нет, и запустит сборку проекта.
Из командной строки этот скрипт можно запустить с помощью `generate.bat`.

Выполняется:

- генерация версии на основе тега
- компиляция proto-файлов
- компиляция DiadocApi
